"use strict";(self.webpackChunkloan_calculator=self.webpackChunkloan_calculator||[]).push([[271],{447:function(e,t,n){function a(e){return e+.5|0}n.d(t,{Q1:function(){return T}});const r=(e,t,n)=>Math.max(Math.min(e,n),t);function o(e){return r(a(2.55*e),0,255)}function i(e){return r(a(255*e),0,255)}function s(e){return r(a(e/2.55)/100,0,1)}function c(e){return r(a(100*e),0,100)}const d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},l=[..."0123456789ABCDEF"],f=e=>l[15&e],u=e=>l[(240&e)>>4]+l[15&e],g=e=>(240&e)>>4===(15&e);function m(e){var t=(e=>g(e.r)&&g(e.g)&&g(e.b)&&g(e.a))(e)?f:u;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const h=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b(e,t,n){const a=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-a*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function y(e,t,n){const a=(a,r=(a+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function v(e,t,n){const a=b(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function p(e){const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),o=Math.min(t,n,a),i=(r+o)/2;let s,c,d;return r!==o&&(d=r-o,c=i>.5?d/(2-r-o):d/(r+o),s=function(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}(t,n,a,d,r),s=60*s+.5),[0|s,c||0,i]}function w(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(i)}function C(e,t,n){return w(b,e,t,n)}function x(e){return(e%360+360)%360}function E(e){const t=h.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?o(+t[5]):i(+t[5]));const r=x(+t[2]),s=+t[3]/100,c=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return w(v,e,t,n)}(r,s,c):"hsv"===t[1]?function(e,t,n){return w(y,e,t,n)}(r,s,c):C(r,s,c),{r:n[0],g:n[1],b:n[2],a:a}}const I={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},S={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let k;function F(e){k||(k=function(){const e={},t=Object.keys(S),n=Object.keys(I);let a,r,o,i,s;for(a=0;a<t.length;a++){for(i=s=t[a],r=0;r<n.length;r++)o=n[r],s=s.replace(o,I[o]);o=parseInt(S[i],16),e[s]=[o>>16&255,o>>8&255,255&o]}return e}(),k.transparent=[0,0,0,0]);const t=k[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Y=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const A=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,M=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function L(e,t,n){if(e){let a=p(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=C(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function B(e,t){return e?Object.assign(t||{},e):e}function P(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=i(e[3]))):(t=B(e,{r:0,g:0,b:0,a:1})).a=i(t.a),t}function R(e){return"r"===e.charAt(0)?function(e){const t=Y.exec(e);let n,a,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?o(e):r(255*e,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?o(n):r(n,0,255)),a=255&(t[4]?o(a):r(a,0,255)),i=255&(t[6]?o(i):r(i,0,255)),{r:n,g:a,b:i,a:s}}}(e):E(e)}class T{constructor(e){if(e instanceof T)return e;const t=typeof e;let n;"object"===t?n=P(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*d[e[1]],g:255&17*d[e[2]],b:255&17*d[e[3]],a:5===n?17*d[e[4]]:255}:7!==n&&9!==n||(t={r:d[e[1]]<<4|d[e[2]],g:d[e[3]]<<4|d[e[4]],b:d[e[5]]<<4|d[e[6]],a:9===n?d[e[7]]<<4|d[e[8]]:255})),t}(e)||F(e)||R(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=B(this._rgb);return e&&(e.a=s(e.a)),e}set rgb(e){this._rgb=P(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${s(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?m(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=p(e),n=t[0],a=c(t[1]),r=c(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${r}%, ${s(e.a)})`:`hsl(${n}, ${a}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let r;const o=t===r?.5:t,i=2*o-1,s=n.a-a.a,c=((i*s===-1?i:(i+s)/(1+i*s))+1)/2;r=1-c,n.r=255&c*n.r+r*a.r+.5,n.g=255&c*n.g+r*a.g+.5,n.b=255&c*n.b+r*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=M(s(e.r)),r=M(s(e.g)),o=M(s(e.b));return{r:i(A(a+n*(M(s(t.r))-a))),g:i(A(r+n*(M(s(t.g))-r))),b:i(A(o+n*(M(s(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new T(this.rgb)}alpha(e){return this._rgb.a=i(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=a(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return L(this._rgb,2,e),this}darken(e){return L(this._rgb,2,-e),this}saturate(e){return L(this._rgb,1,e),this}desaturate(e){return L(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=p(e);n[0]=x(n[0]+t),n=C(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}},930:function(e,t,n){var a=n(265),r=n(455),o=n(970),i=n(962),s=n(906),c=n(408),d=n(944),l=n(122),f=n(951);const u=()=>n.e(934).then(n.bind(n,582)),g=()=>Promise.resolve().then(n.bind(n,741)),m=()=>n.e(153).then(n.bind(n,205));function h(e,t){const n=document.getElementById("progress-fill"),a=document.getElementById("progress-text"),r=document.getElementById("loading-message");n&&(n.style.width=`${Math.round(e)}%`),a&&(a.textContent=`${Math.round(e)}%`),r&&t&&(r.textContent=t)}function b(){const e=document.getElementById("calculation-loading-overlay");e&&(e.style.display="none")}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear());"dark"===localStorage.getItem("theme")&&document.body.classList.add("dark-theme");const t=new l.A,y=new f.A,v=new d.A({storageService:t}),p=y.getLanguage();let w,C,x,E,I,S,k,F;const Y=document.getElementById("calculator-form-container");Y&&(w=new a.A({container:Y,onCalculate:async e=>{try{!function(e="Calculating..."){let t=document.getElementById("calculation-loading-overlay");t||(t=document.createElement("div"),t.id="calculation-loading-overlay",t.className="calculation-loading-overlay",t.innerHTML=`\n      <div class="loading-content">\n        <div class="loading-spinner"></div>\n        <div class="loading-message" id="loading-message">${e}</div>\n        <div class="loading-progress">\n          <div class="progress-bar">\n            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>\n          </div>\n          <div class="progress-text" id="progress-text">0%</div>\n        </div>\n      </div>\n    `,document.body.appendChild(t));t.style.display="flex";const n=document.getElementById("progress-fill"),a=document.getElementById("progress-text"),r=document.getElementById("loading-message");n&&(n.style.width="0%");a&&(a.textContent="0%");r&&(r.textContent=e)}("Starting calculation..."),x&&x.showLoadingSkeleton();const{AmortizationSchedule:t}=await Promise.resolve().then(n.bind(n,478)),a=new t(e,!1);await a.generateScheduleAsync({includeAdditionalPayments:!0,timeout:1e4,onProgress:(e,t)=>{h(e,t)}}),h(95,"Calculating inflation adjustments...");let r=null;if(void 0!==e.inflationRate&&e.inflationRate>0){const t=(await m()).default;r=(new t).calculateInflationAdjusted(a,e.inflationRate)}if(h(98,"Rendering results..."),C&&C.render({loan:e,amortizationSchedule:a,inflationAdjusted:r}),x)x.render(a);else if(document.getElementById("amortization-table-container")){const e=(await u()).default;x=new e({container:document.getElementById("amortization-table-container")}),x.render(a)}if(E)E.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:a}),E.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:a}),r&&E.renderInflationImpactChart({loan:e,amortizationSchedule:a,inflationAdjusted:r});else if(document.getElementById("charts-container")){const t=(await g()).default;E=new t({container:document.getElementById("charts-container")}),E.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:a}),E.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:a}),r&&E.renderInflationImpactChart({loan:e,amortizationSchedule:a,inflationAdjusted:r})}b()}catch(t){let e="general";t.message;let n=[];t.message.includes("timeout")?(e="timeout",n=["Try reducing the loan amount","Check if your interest rate is reasonable","Reduce the loan term if it's very long"]):t.message.includes("Loan amount")?(e="validation",n=["Please enter a valid loan amount between $1,000 and $100,000,000"]):t.message.includes("Interest rate")?(e="validation",n=["Please enter an interest rate between 0% and 50%"]):t.message.includes("payment is too low")?(e="payment",n=["Increase the loan term to reduce monthly payments","Reduce the loan amount","Lower the interest rate if possible"]):t.message.includes("Maximum payment limit")&&(e="calculation",n=["Check your loan parameters for reasonableness","Ensure interest rate is not too low","Verify loan term is appropriate"]),function(e){b();let t=document.getElementById("calculation-error-overlay");t||(t=document.createElement("div"),t.id="calculation-error-overlay",t.className="calculation-error-overlay",document.body.appendChild(t));const n=e.message||"An unknown error occurred during calculation.",a=e.category||"general",r=e.suggestions||[],o={timeout:"\u23f1\ufe0f",validation:"\ud83d\udcdd",payment:"\ud83d\udcb0",calculation:"\ud83d\udd22",general:"\u26a0\ufe0f"},i=o[a]||o.general,s=r.length>0?`\n    <div class="error-suggestions">\n      <h4>Suggestions:</h4>\n      <ul>\n        ${r.map(e=>`<li>${e}</li>`).join("")}\n      </ul>\n    </div>\n  `:"";t.innerHTML=`\n    <div class="error-content">\n      <div class="error-icon">${i}</div>\n      <h3>Calculation Error</h3>\n      <p class="error-message">${n}</p>\n      ${s}\n      <div class="error-actions">\n        <button class="btn-retry" onclick="retryCalculation()">Try Again</button>\n        <button class="btn-close" onclick="closeCalculationError()">Close</button>\n      </div>\n    </div>\n  `,t.style.display="flex"}({...t,category:e,suggestions:n})}}}));document.getElementById("results-display-container")&&(C=new r.A({containerId:"results-display-container",onSave:(e,t)=>{v.saveCalculation(e,t),I&&I.refresh()}}));const A=document.getElementById("amortization-table-container");A&&(A.innerHTML='\n      <div class="component-loading">\n        <div class="loading-spinner"></div>\n        <div class="loading-text">Loading amortization table...</div>\n      </div>\n    ',u().then(e=>{const t=e.default;if(x=new t({container:A}),w&&w.getFormData()){const e=w.getFormData();Promise.resolve().then(n.bind(n,478)).then(({AmortizationSchedule:t})=>{const n=new t(e);x.render(n)}).catch(e=>{})}}).catch(e=>{A.innerHTML='\n        <div class="component-error">\n          <div class="error-icon">\u26a0\ufe0f</div>\n          <div class="error-text">Failed to load amortization table</div>\n          <button class="retry-button" onclick="location.reload()">Retry</button>\n        </div>\n      '}));const M=document.getElementById("charts-container");M&&(M.innerHTML='\n      <div class="component-loading">\n        <div class="loading-spinner"></div>\n        <div class="loading-text">Loading charts...</div>\n      </div>\n    ',g().then(e=>{const t=e.default;if(E=new t({container:M}),w&&w.getFormData()){const e=w.getFormData();Promise.resolve().then(n.bind(n,478)).then(({AmortizationSchedule:t})=>{const n=new t(e);E.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:n}),E.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:n}),void 0!==e.inflationRate&&e.inflationRate>0&&m().then(t=>{const a=(new(0,t.default)).calculateInflationAdjusted(n,e.inflationRate);E.renderInflationImpactChart({loan:e,amortizationSchedule:n,inflationAdjusted:a})})}).catch(e=>{})}}).catch(e=>{M.innerHTML='\n        <div class="component-error">\n          <div class="error-icon">\u26a0\ufe0f</div>\n          <div class="error-text">Failed to load charts</div>\n          <button class="retry-button" onclick="location.reload()">Retry</button>\n        </div>\n      '}));document.getElementById("saved-calculations-container")&&(I=new o.A({containerId:"saved-calculations-container",calculationManager:v,onLoadCalculation:e=>{w&&w.loadLoan(e.loan),C&&C.updateResults(e.loan,e.amortizationSchedule),x&&x.updateTable(e.amortizationSchedule),E&&E.updateCharts(e.loan,e.amortizationSchedule)},onCompareCalculations:e=>{E&&E.showComparisonCharts(e)}}));const L=document.getElementById("glossary-container");L&&(k=new s.A({container:L,language:p}));const B=document.getElementById("guidance-container");B&&(F=new c.A({container:B,language:p,calculatorForm:w,resultsDisplay:C}));const P=document.getElementById("settings-container");P&&(S=new i.A({container:P,onThemeChange:e=>{},onLanguageChange:e=>{y.setLanguage(e),w&&w.updateLanguage(e),C&&C.updateLanguage(e),x&&x.updateLanguage(e),E&&E.updateLanguage(e),I&&I.updateLanguage(e),k&&k.updateLanguage(e),F&&F.updateLanguage(e)},onCurrencyChange:e=>{C&&C.updateCurrencyFormat(e),x&&x.updateCurrencyFormat(e),E&&E.updateCurrencyFormat(e),w&&w.updateCurrencyFormat(e)}}))})}}]);
//# sourceMappingURL=main-e96e9bea.28670c034451374049cb.js.map