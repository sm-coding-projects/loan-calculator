"use strict";(self.webpackChunkloan_calculator=self.webpackChunkloan_calculator||[]).push([[271],{447:function(e,t,n){function a(e){return e+.5|0}n.d(t,{Q1:function(){return $}});const r=(e,t,n)=>Math.max(Math.min(e,n),t);function o(e){return r(a(2.55*e),0,255)}function i(e){return r(a(255*e),0,255)}function c(e){return r(a(e/2.55)/100,0,1)}function s(e){return r(a(100*e),0,100)}const l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},d=[..."0123456789ABCDEF"],u=e=>d[15&e],f=e=>d[(240&e)>>4]+d[15&e],g=e=>(240&e)>>4===(15&e);function m(e){var t=(e=>g(e.r)&&g(e.g)&&g(e.b)&&g(e.a))(e)?u:f;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const h=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b(e,t,n){const a=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-a*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function y(e,t,n){const a=(a,r=(a+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function p(e,t,n){const a=b(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function v(e){const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),o=Math.min(t,n,a),i=(r+o)/2;let c,s,l;return r!==o&&(l=r-o,s=i>.5?l/(2-r-o):l/(r+o),c=function(e,t,n,a,r){return e===r?(t-n)/a+(t<n?6:0):t===r?(n-e)/a+2:(e-t)/a+4}(t,n,a,l,r),c=60*c+.5),[0|c,s||0,i]}function w(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(i)}function C(e,t,n){return w(b,e,t,n)}function x(e){return(e%360+360)%360}function E(e){const t=h.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?o(+t[5]):i(+t[5]));const r=x(+t[2]),c=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return w(p,e,t,n)}(r,c,s):"hsv"===t[1]?function(e,t,n){return w(y,e,t,n)}(r,c,s):C(r,c,s),{r:n[0],g:n[1],b:n[2],a:a}}const S={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let I;function F(e){I||(I=function(){const e={},t=Object.keys(k),n=Object.keys(S);let a,r,o,i,c;for(a=0;a<t.length;a++){for(i=c=t[a],r=0;r<n.length;r++)o=n[r],c=c.replace(o,S[o]);o=parseInt(k[i],16),e[c]=[o>>16&255,o>>8&255,255&o]}return e}(),I.transparent=[0,0,0,0]);const t=I[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const A=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Y=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,M=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function L(e,t,n){if(e){let a=v(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=C(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function B(e,t){return e?Object.assign(t||{},e):e}function T(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=i(e[3]))):(t=B(e,{r:0,g:0,b:0,a:1})).a=i(t.a),t}function P(e){return"r"===e.charAt(0)?function(e){const t=A.exec(e);let n,a,i,c=255;if(t){if(t[7]!==n){const e=+t[7];c=t[8]?o(e):r(255*e,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?o(n):r(n,0,255)),a=255&(t[4]?o(a):r(a,0,255)),i=255&(t[6]?o(i):r(i,0,255)),{r:n,g:a,b:i,a:c}}}(e):E(e)}class ${constructor(e){if(e instanceof $)return e;const t=typeof e;let n;"object"===t?n=T(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*l[e[1]],g:255&17*l[e[2]],b:255&17*l[e[3]],a:5===n?17*l[e[4]]:255}:7!==n&&9!==n||(t={r:l[e[1]]<<4|l[e[2]],g:l[e[3]]<<4|l[e[4]],b:l[e[5]]<<4|l[e[6]],a:9===n?l[e[7]]<<4|l[e[8]]:255})),t}(e)||F(e)||P(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=B(this._rgb);return e&&(e.a=c(e.a)),e}set rgb(e){this._rgb=T(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${c(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?m(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=v(e),n=t[0],a=s(t[1]),r=s(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${r}%, ${c(e.a)})`:`hsl(${n}, ${a}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let r;const o=t===r?.5:t,i=2*o-1,c=n.a-a.a,s=((i*c===-1?i:(i+c)/(1+i*c))+1)/2;r=1-s,n.r=255&s*n.r+r*a.r+.5,n.g=255&s*n.g+r*a.g+.5,n.b=255&s*n.b+r*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=M(c(e.r)),r=M(c(e.g)),o=M(c(e.b));return{r:i(Y(a+n*(M(c(t.r))-a))),g:i(Y(r+n*(M(c(t.g))-r))),b:i(Y(o+n*(M(c(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new $(this.rgb)}alpha(e){return this._rgb.a=i(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=a(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return L(this._rgb,2,e),this}darken(e){return L(this._rgb,2,-e),this}saturate(e){return L(this._rgb,1,e),this}desaturate(e){return L(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=v(e);n[0]=x(n[0]+t),n=C(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}},930:function(e,t,n){var a=n(265),r=n(455),o=n(970),i=n(962),c=n(906),s=n(408),l=n(944),d=n(122),u=n(951),f=n(53);const g=()=>n.e(205).then(n.bind(n,362)),m=()=>Promise.resolve().then(n.bind(n,741));let h,b,y,p,v,w,C,x;function E(){const e=document.getElementById("calculation-loading-overlay");e&&(e.style.display="none")}function S(){const e=document.getElementById("calculation-error-overlay");e&&(e.style.display="none")}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear());"dark"===localStorage.getItem("theme")&&document.body.classList.add("dark-theme");const t=new d.A,S=new u.A,k=new l.A({storageService:t}),I=S.getLanguage();f.A.registerShortcut("ctrl+shift+k",{description:"Start keyboard navigation testing",handler:()=>f.A.startTesting()}),f.A.registerShortcut("ctrl+shift+a",{description:"Test all keyboard functionality",handler:async()=>{await f.A.testAllKeyboardFunctionality()}});const F=document.getElementById("calculator-form-container");F&&(h=new a.A({container:F,onCalculate:async(e,t,n)=>{try{if(function(e="Calculating..."){let t=document.getElementById("calculation-loading-overlay");t||(t=document.createElement("div"),t.id="calculation-loading-overlay",t.className="calculation-loading-overlay",t.innerHTML=`\n      <div class="loading-content">\n        <div class="loading-spinner"></div>\n        <div class="loading-message" id="loading-message">${e}</div>\n        <div class="loading-progress">\n          <div class="progress-bar">\n            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>\n          </div>\n          <div class="progress-text" id="progress-text">0%</div>\n        </div>\n      </div>\n    `,document.body.appendChild(t));t.style.display="flex";const n=document.getElementById("progress-fill"),a=document.getElementById("progress-text"),r=document.getElementById("loading-message");n&&(n.style.width="0%");a&&(a.textContent="0%");r&&(r.textContent=e)}("Starting calculation..."),y&&y.showLoadingSkeleton(),function(e,t){const n=document.getElementById("progress-fill"),a=document.getElementById("progress-text"),r=document.getElementById("loading-message");n&&(n.style.width=`${Math.round(e)}%`);a&&(a.textContent=`${Math.round(e)}%`);r&&t&&(r.textContent=t)}(90,"Rendering results..."),b&&b.render({loan:e,amortizationSchedule:t,inflationAdjusted:n}),y)y.render(t);else if(document.getElementById("amortization-table-container")){const e=(await g()).default;y=new e({container:document.getElementById("amortization-table-container")}),y.render(t)}if(p)p.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:t}),p.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:t}),n&&p.renderInflationImpactChart({loan:e,amortizationSchedule:t,inflationAdjusted:n});else if(document.getElementById("charts-container")){const a=(await m()).default;p=new a({container:document.getElementById("charts-container")}),p.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:t}),p.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:t}),n&&p.renderInflationImpactChart({loan:e,amortizationSchedule:t,inflationAdjusted:n})}E()}catch(a){let e="general";a.message;let t=[];a.message.includes("timeout")?(e="timeout",t=["Try reducing the loan amount","Check if your interest rate is reasonable","Reduce the loan term if it's very long"]):a.message.includes("Loan amount")?(e="validation",t=["Please enter a valid loan amount between $1,000 and $100,000,000"]):a.message.includes("Interest rate")?(e="validation",t=["Please enter an interest rate between 0% and 50%"]):a.message.includes("payment is too low")?(e="payment",t=["Increase the loan term to reduce monthly payments","Reduce the loan amount","Lower the interest rate if possible"]):a.message.includes("Maximum payment limit")&&(e="calculation",t=["Check your loan parameters for reasonableness","Ensure interest rate is not too low","Verify loan term is appropriate"]),function(e){E();let t=document.getElementById("calculation-error-overlay");t||(t=document.createElement("div"),t.id="calculation-error-overlay",t.className="calculation-error-overlay",document.body.appendChild(t));const n=e.message||"An unknown error occurred during calculation.",a=e.category||"general",r=e.suggestions||[],o={timeout:"\u23f1\ufe0f",validation:"\ud83d\udcdd",payment:"\ud83d\udcb0",calculation:"\ud83d\udd22",general:"\u26a0\ufe0f"},i=o[a]||o.general,c=r.length>0?`\n    <div class="error-suggestions">\n      <h4>Suggestions:</h4>\n      <ul>\n        ${r.map(e=>`<li>${e}</li>`).join("")}\n      </ul>\n    </div>\n  `:"";t.innerHTML=`\n    <div class="error-content">\n      <div class="error-icon">${i}</div>\n      <h3>Calculation Error</h3>\n      <p class="error-message">${n}</p>\n      ${c}\n      <div class="error-actions">\n        <button class="btn-retry" onclick="retryCalculation()">Try Again</button>\n        <button class="btn-close" onclick="closeCalculationError()">Close</button>\n      </div>\n    </div>\n  `,t.style.display="flex"}({...a,category:e,suggestions:t})}}}));document.getElementById("results-display-container")&&(b=new r.A({containerId:"results-display-container",onSave:(e,t)=>{k.saveCalculation(e,t),v&&v.refresh()}}));const A=document.getElementById("amortization-table-container");A&&(A.innerHTML='\n      <div class="component-loading">\n        <div class="loading-spinner"></div>\n        <div class="loading-text">Loading amortization table...</div>\n      </div>\n    ',g().then(e=>{const t=e.default;if(y=new t({container:A}),h&&h.getFormData()){const e=h.getFormData();Promise.resolve().then(n.bind(n,478)).then(({AmortizationSchedule:t})=>{const n=new t(e);y.render(n)}).catch(e=>{})}}).catch(e=>{A.innerHTML='\n        <div class="component-error">\n          <div class="error-icon">\u26a0\ufe0f</div>\n          <div class="error-text">Failed to load amortization table</div>\n          <button class="retry-button" onclick="location.reload()">Retry</button>\n        </div>\n      '}));const Y=document.getElementById("charts-container");Y&&(Y.innerHTML='\n      <div class="component-loading">\n        <div class="loading-spinner"></div>\n        <div class="loading-text">Loading charts...</div>\n      </div>\n    ',m().then(e=>{const t=e.default;if(p=new t({container:Y}),h&&h.getFormData()){const e=h.getFormData();Promise.resolve().then(n.bind(n,478)).then(({AmortizationSchedule:t})=>{const a=new t(e);p.renderPrincipalVsInterestChart({loan:e,amortizationSchedule:a}),p.renderPaymentBreakdownPieChart({loan:e,amortizationSchedule:a}),void 0!==e.inflationRate&&e.inflationRate>0&&n.e(153).then(n.bind(n,205)).then(t=>{const n=(new(0,t.default)).calculateInflationAdjusted(a,e.inflationRate);p.renderInflationImpactChart({loan:e,amortizationSchedule:a,inflationAdjusted:n})})}).catch(e=>{})}}).catch(e=>{Y.innerHTML='\n        <div class="component-error">\n          <div class="error-icon">\u26a0\ufe0f</div>\n          <div class="error-text">Failed to load charts</div>\n          <button class="retry-button" onclick="location.reload()">Retry</button>\n        </div>\n      '}));document.getElementById("saved-calculations-container")&&(v=new o.A({containerId:"saved-calculations-container",calculationManager:k,onLoadCalculation:e=>{h&&h.loadLoan(e.loan),b&&b.updateResults(e.loan,e.amortizationSchedule),y&&y.updateTable(e.amortizationSchedule),p&&p.updateCharts(e.loan,e.amortizationSchedule)},onCompareCalculations:e=>{p&&p.showComparisonCharts(e)}}));const M=document.getElementById("glossary-container");M&&(C=new c.A({container:M,language:I}));const L=document.getElementById("guidance-container");L&&(x=new s.A({container:L,language:I,calculatorForm:h,resultsDisplay:b}));const B=document.getElementById("settings-container");B&&(w=new i.A({container:B,onThemeChange:e=>{},onLanguageChange:e=>{S.setLanguage(e),h&&h.updateLanguage(e),b&&b.updateLanguage(e),y&&y.updateLanguage(e),p&&p.updateLanguage(e),v&&v.updateLanguage(e),C&&C.updateLanguage(e),x&&x.updateLanguage(e)},onCurrencyChange:e=>{b&&b.updateCurrencyFormat(e),y&&y.updateCurrencyFormat(e),p&&p.updateCurrencyFormat(e),h&&h.updateCurrencyFormat(e)}}))}),window.closeCalculationError=S,window.retryCalculation=function(){S(),h&&"function"===typeof h.handleCalculate&&h.handleCalculate()}}}]);
//# sourceMappingURL=main-e96e9bea.502dec54577d21f03279.js.map